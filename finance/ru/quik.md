---
# /* yaspeller ignore:start */
home: true
heroText: Оптимальное хранение биржевых данных.
tagline:
actionText: Интеграция с терминалом QUIK® →
actionLink: ./install-quik.md
features:
- title: История всех сделок
  details: Периодическое и <a href="#поточное-копирование" style="color:orange">поточное</a> сохранение обезличенных сделок из терминала QUIK.
- title: Высокая скорость чтения
  details: Параллельный <a href="#отличие-от-стандартных-баз-данных" style="color:orange">движок</a> экспорта данных с различными критериями поиска.
- title: Удобство SQL
  details: Расширенный <a href="sql.html" style="color:orange">SQL</a> синтаксис с оптимизированными вычислениями.
footer: Copyright © 2021 Axibase. QUIK® by ARQA Technologies
footerActionText: Установка
footerActionLink: ./install-quik.md
# /* yaspeller ignore:end */
---
<!-- markdownlint-disable MD002 MD041 MD012 -->
<article class="feature-highlight">

## Для чего нужна история обезличенных сделок

<div class="feature-images">

![](./images/trades_vs_bars.png) <!-- yaspeller ignore -->

</div>

- Повышение точности обратного тестирования за счет проверки на сделках вместо OHLCV агрегатов
- Разработка стратегий на альтернативных агрегатах (volume bars) и преобразованных рядах
- Расчет собственных индикаторов, отсутствующих у торговых платформ
- Аудит качества торговых операций по сравнению с рыночной ценой
- Поиск редких аномалий, в том числе календарных

</article>
<article class="feature-highlight">

## Интеграция с QUIK

<div class="feature-images">

![](./images/quik_diag_nogrid.png) <!-- yaspeller ignore -->

</div>

Терминал QUIK может быть настроен для получения обезличенных сделок. Сделки в таблице `all_trades` накапливаются в течение торгового дня и очищаются при подключении терминала на следующий день.

ATSD позволяет сохранять ежедневные данные таблицы обезличенных сделок в структурированном виде для целей долгосрочного хранения и статистического анализа.

</article>
<article class="feature-highlight">

## Отличие от файлов

<div class="feature-images">

![](./images/auto-complete-class.png) <!-- yaspeller ignore -->

</div>

- Поиск по индексу значительно быстрее, чем последовательное чтение файлов
- Дополнительное ускорение достигается благодаря кэшированию и параллельному чтению
- Отсутствие блокировок - чтение и запись происходят одновременно
- Мгновенная видимость сделки для чтения до записи в файл
- Возможность редактирования, удаления и добавления сделок без перезаписи
- Все преимущества SQL включая группировки, сортировки, и функции

</article>
<article class="feature-highlight">

## Отличие от стандартных баз данных

<div class="feature-images">

![](./images/old_ui_left_menu.png) <!-- yaspeller ignore -->

</div>

- В нереляционной СУБД ATSD устранены накладные расходы, присущие реляционной схеме
- При этом реализованы ключевые элементы SQL DML для гибкой фильтрации и обработки результатов
- Параллельное чтение из сегментированной таблицы позволяет достичь высокой производительности несмотря на большие массивы данных
- Сжатое хранение в оптимальной кодировке сокращает потребности в дисковом пространстве на 80%
- Реализованные функции подсчета агрегатов учитывают специфику данных и схемы хранения

</article>
<article class="feature-highlight">

## Ежедневное копирование

<div class="feature-images">

![](./images/lua_export_snippet_small.png) <!-- yaspeller ignore -->

</div>

- Производится в интервале с момента окончания торгов до подключения терминала QUIK в последующий торговый день
- Выгрузка из таблицы `all_trades` производится скриптом Lua, который постоянно запущен, и активируется в определенный момент
- Скрипт Lua сохраняет данные в файл на локальной файловой системе, производит архивацию файла и отправляет архив в ATSD
- Обработка на стороне ATSD производится асинхронно с созданием отчета по результатам обработки файла
- Ежедневный файл может достигать нескольких гигабайтов при количестве сделок до 100 млн.

</article>
<article class="feature-highlight">

## Поточное копирование

<div class="feature-images">

![](./images/quik_export.png) <!-- yaspeller ignore -->

</div>

- Производится путем установки [ODBC](https://github.com/axibase/atsd-quik/releases/tag/v1.0.0) драйвера
- Активируется при включении режима экспорта для таблицы обезличенных сделок
- Отправка данных производится через websocket по протоколу HTTP/HTTPS
- Данные доступны для чтения в ATSD без задержки
- В случае сетевых проблем производится повторная отправка с последней отправленной сделки
- Повторная отправка сделок не приводит к созданию дубликатов на стороне АТСД
- Режим поточного копирования в сочетании с ежедневным копированием обеспечивает отсутствие пробелов

</article>
<article class="feature-highlight">

## Дополнительные источники

<div class="feature-images">

![](./images/moex-trade-viewer-small.png) <!-- yaspeller ignore -->

</div>

- ATSD MOEX консьюмеры позволяют подключиться к FAST Multicast Московской Биржи с установкой в зоне колокации
- Подключение дополнительных торговых систем, предоставляющих API для подписки на рыночные данные, например [Transaq](https://www.finam.ru/howtotrade/tconnector/)
- Загрузка данных из внешних источников: следки IEX, данных из Polygon, Alpha Vantage, Yahoo Finance и пр.

</article>